<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="scss/styles.scss">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet">
    <title>Ejercicio1 - M1</title>
</head>
<body>
    <div class="container">
        <div class=" my-5 d-flex flex-column align-items-center justify-content-center" style="height: 350px;">
            <h2 class="d-inline">Ejercicio 1</h2>
            <div class="card">
                <div class="card-body">
                    <p>El Punto de equilibrio es la cantidad de ventas que debe tener un negocio de determinado producto para no perder dinero.</p>
                    <div class="col-auto">
                        <label for="costosfijos" class="col-form-label">Costos Fijos</label>
                    </div>
                    <div class="col-auto">
                        <input type="number" min="0" id="costosfijos" name="costosfijos" class="form-control">
                    </div>
                    <div class="row my-3">
                        <div class="col">
                            <label for="preciodeventa" class="form-label">Precio de venta</label>
                            <input type="number" id="preciodeventa" name="preciodeventa" min="0" class="form-control">
                        </div>
                        
                        <div class="col">
                            <label for="costosvariables" class="form-label">Costos Variables</label>
                          <input type="number" min="0" id="costosvariables" name="costosvariables" class="form-control" >
                        </div>
                      </div>
                      <div class="row my-3">
                        <div class="col text-center">
                            <button onclick="calcular()" class="btn btn-primary">Calcular</button>
                        </div>
                      </div>
                      <div class="row my-3">
                        <div class="col">
                            <h3>Resultado</h3>
                            <p id="resultado"></p>
                        </div>
                      </div>
                </div>
            </div>
          </div>
    </div>
    <script type="module" src="js/main.js"></script>
    <script type="text/javascript">
        var ready = (callback) => {
    if (document.readyState != "loading") callback();
    else document.addEventListener("DOMContentLoaded", callback);
  }
  
  ready(() => { 

  });

calcular = function(){

    let costosfijos = document.querySelector("input[name=costosfijos]");
    let preciodeventa = document.querySelector("input[name=preciodeventa]");
    let costosvariables = document.querySelector("input[name=costosvariables]");   
    let resultado = document.querySelector("#resultado");
    if(
        parseFloat(preciodeventa.value) == 0 || 
        isNaN(parseFloat(preciodeventa.value)) ||
        parseFloat(costosvariables.value) == 0 || 
        isNaN(parseFloat(costosvariables.value))
    ){
        alert("El precio de venta o el costo variable no pueden ser igual a cero");
        return false;
    }

    let cv = parseFloat(costosfijos.value) / (parseFloat(preciodeventa.value) - parseFloat(costosvariables.value));
    if(isNaN(cv)){
        resultado.innerHTML = "Punto de equilibrio es: 0"
    } else {
        resultado.innerHTML = `Punto de equilibrio es: ${cv}`
    }
}
    </script>
</body>
</html>